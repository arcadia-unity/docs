<html><head><meta charset="utf-8" /><link href="js/highlight/styles/github-gist.css" rel="stylesheet" /><script src="js/highlight/highlight.pack.js"></script><script src="js/markdown/markdown.min.js"></script><script src="js/arcadia-docs.js"></script><link href="style.css" rel="stylesheet" type="text/css" /><style type="text/css">.columns-1 { width:8.333333%;}
.columns-2 { width:16.66667%;}
.columns-3 { width:25%;}
.columns-4 { width:33.33333%;}
.columns-5 { width:41.66667%;}
.columns-6 { width:50%;}
.columns-7 { width:58.33333%;}
.columns-8 { width:66.66666%;}
.columns-9 { width:75%;}
.columns-10 { width:83.33334%;}
.columns-11 { width:91.66666%;}
.columns-12 { width:100%;}</style><title>arcadia.internal.macro - Arcadia Documentation</title></head><body><div class="grid"><div><div class="columns-3">&nbsp;</div><div class="sidebar columns-3"><h2>Namespaces</h2><ul><li><a href="arcadia.compiler.html">arcadia.compiler</a></li><li><a href="arcadia.config.html">arcadia.config</a></li><li><a href="arcadia.internal.name-utils.html">arcadia.internal.name-utils</a></li><li><a href="arcadia.linear.html">arcadia.linear</a></li><li><a href="arcadia.literals.html">arcadia.literals</a></li><li><a href="arcadia.internal.map-utils.html">arcadia.internal.map-utils</a></li><li><a href="arcadia.core.html">arcadia.core</a></li><li><span><a class="current" href="arcadia.internal.macro.html">arcadia.internal.macro</a><ul class="current"><li><a href="arcadia.internal.macro.html#meval">meval</a></li><li><a href="arcadia.internal.macro.html#defn-meval">defn-meval</a></li><li><a href="arcadia.internal.macro.html#alphabet">alphabet</a></li><li><a href="arcadia.internal.macro.html#classy-arg-strs">classy-arg-strs</a></li><li><a href="arcadia.internal.macro.html#classy-args">classy-args</a></li><li><a href="arcadia.internal.macro.html#arities-forms">arities-forms</a></li><li><a href="arcadia.internal.macro.html#condcast-&gt;">condcast-&gt;</a></li></ul></span></li><li><a href="arcadia.repl.html">arcadia.repl</a></li><li><a href="arcadia.internal.messages.html">arcadia.internal.messages</a></li><li><a href="arcadia.internal.state.html">arcadia.internal.state</a></li></ul></div></div><div class="content columns-9"><div><h1>arcadia.internal.macro</h1></div><div class="row var-content"><h2 class="name" id="meval">meval</h2><div class="var-details"><div class="row"><h3 class="columns-2">Syntax</h3><div class="columns-10"><ul class="signatures"><li><code>(meval form)</code></li></ul></div></div><div class="row"><h3 class="columns-2">Description</h3><div class="columns-10"><p class="docstring">Expands to the result of (eval form). Useful for manipulating the order of compile-time evaluation, thereby potentially improving ergonomics of code generation. Also handy for writing bizarre, illegible, or weirdly buggy code; please use with caution. See comments aracadia/internal/macro.clj for examples of expansion, and potential resulting bugs.</p></div></div><div class="row"><h3 class="columns-2">Arguments</h3><div class="columns-10"><ul class="arguments"><li class="argument"><code class="name">form</code></li></ul></div></div></div><hr /></div><div class="row var-content"><h2 class="name" id="defn-meval">defn-meval</h2><div class="var-details"><div class="row"><h3 class="columns-2">Syntax</h3><div class="columns-10"><ul class="signatures"><li><code>(defn-meval name &amp; tail-forms-and-code-form)</code></li></ul></div></div><div class="row"><h3 class="columns-2">Description</h3><div class="columns-10"><p class="docstring">Macro for generating function definitions. Uses include generating many arities for a function. The final form in tail-forms-and-code-form will be evaluated at expansion time and spliced into the body of the function.

  Example:

  (am/defn-meval backwards-subtract
  &quot;an amazing function&quot;
  (for [i (range 3)
        :let [args (vec (repeatedly i gensym))]]
    `(~args ~(cons &apos;- (reverse args)))))

  expands to:

  (clojure.core/defn backwards-subtract
  &quot;an amazing function&quot;
  ([] (-))
  ([G__26409] (- G__26409))
  ([G__26410 G__26411] (- G__26411 G__26410)))

  I&apos;ve found vectors useful data structures for generating arities, since it is easy to generate all the default cases, then use update to modify them for special cases, such as 0, 1, and 20/more-than-19 arguments.</p></div></div><div class="row"><h3 class="columns-2">Arguments</h3><div class="columns-10"><ul class="arguments"><li class="argument"><code class="name">name</code></li><li class="argument"><code class="name">tail-forms-and-code-form</code></li></ul></div></div></div><hr /></div><div class="row var-content"><h2 class="name" id="alphabet">alphabet</h2><div class="var-details"></div><hr /></div><div class="row var-content"><h2 class="name" id="classy-arg-strs">classy-arg-strs</h2><div class="var-details"><div class="row"><h3 class="columns-2">Syntax</h3><div class="columns-10"><ul class="signatures"><li><code>(classy-arg-strs)</code></li><li><code>(classy-arg-strs n)</code></li></ul></div></div><div class="row"><h3 class="columns-2">Arguments</h3><div class="columns-10"><ul class="arguments"><li class="argument"><code class="name">n</code></li></ul></div></div></div><hr /></div><div class="row var-content"><h2 class="name" id="classy-args">classy-args</h2><div class="var-details"><div class="row"><h3 class="columns-2">Syntax</h3><div class="columns-10"><ul class="signatures"><li><code>(classy-args)</code></li><li><code>(classy-args n)</code></li></ul></div></div><div class="row"><h3 class="columns-2">Arguments</h3><div class="columns-10"><ul class="arguments"><li class="argument"><code class="name">n</code></li></ul></div></div></div><hr /></div><div class="row var-content"><h2 class="name" id="arities-forms">arities-forms</h2><div class="var-details"><div class="row"><h3 class="columns-2">Syntax</h3><div class="columns-10"><ul class="signatures"><li><code>(arities-forms base-fn)</code></li><li><code>(arities-forms base-fn {:keys [:arcadia.internal.macro/max-args :arcadia.internal.macro/cases :arcadia.internal.macro/arg-fn], :or {:arcadia.internal.macro/max-args 20, :arcadia.internal.macro/cases {}, :arcadia.internal.macro/arg-fn (fn* [p1__84888#] (gensym (str &quot;arg-&quot; (inc p1__84888#) &quot;_&quot;)))}})</code></li></ul></div></div><div class="row"><h3 class="columns-2">Arguments</h3><div class="columns-10"><ul class="arguments"><li class="argument"><code class="name">base-fn</code></li><li class="argument"><code class="name" keys="[:arcadia.internal.macro/max-args :arcadia.internal.macro/cases :arcadia.internal.macro/arg-fn]" or="{:arcadia.internal.macro/max-args 20, :arcadia.internal.macro/cases {}, :arcadia.internal.macro/arg-fn (fn* [p1__84888#] (gensym (str &quot;arg-&quot; (inc p1__84888#) &quot;_&quot;)))}"></code></li></ul></div></div></div><hr /></div><div class="row var-content"><h2 class="name" id="condcast-&gt;">condcast-&gt;</h2><div class="var-details"><div class="row"><h3 class="columns-2">Syntax</h3><div class="columns-10"><ul class="signatures"><li><code>(condcast-&gt; expr xsym &amp; clauses)</code></li></ul></div></div><div class="row"><h3 class="columns-2">Arguments</h3><div class="columns-10"><ul class="arguments"><li class="argument"><code class="name">expr</code></li><li class="argument"><code class="name">xsym</code></li><li class="argument"><code class="name">clauses</code></li></ul></div></div></div><hr /></div></div><div id="footer">Copyright Â© 2014-2016 Tims Gardner and Ramsey Nasser</div></div></body></html>